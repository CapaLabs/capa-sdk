{"openapi":"3.0.0","paths":{"/api/partner/v2/webhook-settings":{"put":{"operationId":"PartnerWebhookSettingsV2Controller_update","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePartnerWebhookSettingsBody"}}}},"responses":{"200":{"description":"Allows an affiliated partner to update the settings for receiving webhook notifications.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/PartnerWebhookSettingsHttpResponse"}}}}}}},"tags":["webhook-settings"]}},"/api/partner/v2/off-ramp":{"post":{"operationId":"OffRampPartnerV2Controller_createPartnerOffRamp","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartnerOffRampTransactionV2RequestBody"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/OffRampPartnerV2Response"}}}}}}},"tags":["off-ramp"]}},"/api/partner/v2/on-ramp":{"post":{"operationId":"OnRampPartnerV2Controller_createPartnerOnRamp","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartnerOnRampTransactionV2RequestBody"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/OnRampPartnerV2Response"}}}}}}},"tags":["on-ramp"]}},"/api/partner/v2/quotes":{"get":{"operationId":"QuotePartnerV2Controller_getPartnerQuoteRate","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"tokenSymbol","required":true,"in":"query","description":"The token symbol","example":"USDC","schema":{"enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"}},{"name":"transactionType","required":true,"in":"query","description":"Transaction type (ON_RAMP or OFF_RAMP)","example":"ON_RAMP","schema":{"enum":["ON_RAMP","OFF_RAMP"],"type":"string"}},{"name":"blockchainSymbol","required":true,"in":"query","description":"The blockchain symbol","example":"POL","schema":{"enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"}},{"name":"fiatCurrency","required":true,"in":"query","description":"The fiat currency","example":"MXN","schema":{"enum":["MXN","DOP"],"type":"string"}},{"name":"cryptoAmount","required":false,"in":"query","description":"The amount of crypto (required for OFF_RAMP)","example":100,"schema":{"type":"number"}},{"name":"fiatAmount","required":false,"in":"query","description":"The amount of fiat (required for ON_RAMP)","example":5000,"schema":{"type":"number"}},{"name":"premiumSpread","required":false,"in":"query","description":"Spread percentage to be applied to the exchange rate","example":0.01,"schema":{"type":"number"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/GetPartnerQuoteExchangeV2Response"}}}}}}},"tags":["quotes"]}},"/api/partner/v2/transactions/{id}/cancel":{"put":{"operationId":"TransactionPartnerV2Controller_cancelPartnerTransaction","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Transaction identifier","example":"8374f327-38bd-4b0b-b8a7-2524599eb903","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/CancelTransactionHttpResponse"}}}}}}},"tags":["transactions"]}},"/api/partner/v2/transactions":{"get":{"operationId":"TransactionPartnerV2Controller_listPartnerUserTransactions","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"id","required":false,"in":"query","description":"Transaction identifier","example":"8374f327-38bd-4b0b-b8a7-2524599eb903","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Transaction status","example":"PENDING","schema":{"enum":["FAILED","COMPLETED","PENDING","PENDING_PAYMENT","FIAT_PAYMENT_RECEIVED","FIAT_RECEIVED","CRYPTO_RECEIVED","CRYPTO_NOT_RECEIVED","COMPLETED_CRYPTO_RECEIVAL","EXPIRED","CANCELLED","IN_PROGRESS","BANK_TRANSFER_PENDING","READY_BANK_TRANSFER","AWAITING_MANUAL_CRYPTO_TRANSFER","AWAITING_MANUAL_FIAT_TRANSFER"],"type":"string"}},{"name":"type","required":false,"in":"query","description":"Transaction type","example":"ON_RAMP","schema":{"enum":["ON_RAMP","OFF_RAMP"],"type":"string"}},{"name":"fiatCurrency","required":false,"in":"query","description":"Fiat currency code","example":"MXN","schema":{"enum":["MXN","DOP"],"type":"string"}},{"name":"userId","required":false,"in":"query","description":"User id","example":"8374f327-38bd-4b0b-b8a7-2524599eb903","schema":{"type":"string"}},{"name":"partnerId","required":false,"in":"query","description":"Partner identifier","example":"8374f327-38bd-4b0b-b8a7-2524599eb903","schema":{"type":"string"}},{"name":"skip","required":false,"in":"query","description":"Skip parameter for pagination","example":10,"schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limit parameter for pagination","example":10,"schema":{"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Field to sort by","example":"createdAt","schema":{"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order (ASC or DESC)","example":"DESC","schema":{"enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":"Retrieves transactions of the user associated with the current partner","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/PaginatedTransactionResponse"}}}}}}},"tags":["transactions"]}},"/api/partner/v2/transactions/mock-testing-guide":{"get":{"operationId":"TransactionPartnerV2Controller_getMockTestingGuide","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"This endpoint provides documentation for partners on how to trigger\ndifferent transaction statuses using specific amounts.\n\nOnly available in testing environments.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object"}}}}}}},"tags":["transactions"]}},"/api/partner/v2/kyc/verification-link":{"post":{"operationId":"KYCPartnerControllerV2_generateDirectLink","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartnerDirectLinkBodyV2"}}}},"responses":{"201":{"description":"This endpoint is used to generate a direct link to the KYC provider\nOnly the partner should be able to access this endpoint","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"data":{"$ref":"#/components/schemas/GetPartnerDirectLinkHttpResponseV2"}}}}}}},"tags":["kyc"]}},"/api/partner/v2/kyc/send-verification":{"post":{"operationId":"KYCPartnerControllerV2_uploadFiles","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadPartnerOwnKYCBody"}}}},"responses":{"201":{"description":""}},"tags":["kyc"]}},"/api/partner/v2/kyc/details":{"get":{"operationId":"KYCPartnerControllerV2_getUserVerificationDetails","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"userId","required":true,"in":"query","description":"The user ID","example":"2a119021-ed39-4ab4-8690-db610c53f0fb","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"data":{"$ref":"#/components/schemas/GetUserVerificationResultHttpResponse"}}}}}}},"tags":["kyc"]}},"/api/partner/v2/users":{"post":{"operationId":"UserPartnerControllerV2_createUser","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartnerUserBody"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/CreatePartnerUserHttpResponse"}}}}}}},"tags":["users"]}},"/api/partner/v2/users/{id}/kyc/verification-link":{"post":{"operationId":"UserPartnerControllerV2_createVerificationLink","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"The id of the entity","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVerificationLinkBody"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/GetPartnerDirectLinkHttpResponse"}}}}}}},"tags":["users"]}},"/api/partner/v2/users/{id}/kyb/verification-link":{"post":{"operationId":"UserPartnerControllerV2_generateKYBVerificationLink","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"The id of the entity","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVerificationLinkBody"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"$ref":"#/components/schemas/GetBusinessDirectLinkHttpResponse"}}}}}}},"tags":["users"]}},"/api/partner/v2/users/{id}/agreements":{"get":{"operationId":"UserPartnerControllerV2_getDocumentSignatureTemplates","parameters":[{"name":"partner-api-key","in":"header","description":"Api key for the affiliated partner that is performing the request","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"$ref":"#/components/schemas/GetDocumentSignatureTemplatesHttpResponse"}}}}}}}},"tags":["users"]}}},"info":{"title":"Capa Partner API - V2","description":"Partner API for integrating cryptocurrency on-ramp and off-ramp services using Capa's infrastructure. Enable your users to seamlessly convert between fiat and crypto.","version":"v2","contact":{}},"tags":[],"servers":[{"url":"https://staging-api.capa.fi"},{"url":"https://production-api.capa.fi"}],"components":{"securitySchemes":{"partner-api-key":{"type":"apiKey","in":"header","name":"partner-api-key"}},"schemas":{"PartnerWebhookSettingsHttpResponse":{"type":"object","properties":{"id":{"type":"string","description":"The entity id.","example":"12a121ad-cbea-4ec4-9e0a-5c861e528bba"},"partnerId":{"type":"string","description":"The id of the partner that can manage these settings.","example":"12a121ad-cbea-4ec4-9e0a-5c861e528bba"},"url":{"type":"string","nullable":true,"description":"The url where the partner will receive webhook notifications.","example":"https://some-webhook-endpoint.url"},"createdAt":{"format":"date-time","type":"string","description":"The creation date of the entity.","example":"2024-04-05 13:45:27.063"},"updatedAt":{"format":"date-time","type":"string","description":"The update date of the entity.","example":"2024-04-05 13:45:27.063"}},"required":["id","partnerId","url","createdAt","updatedAt"]},"UpdatePartnerWebhookSettingsBody":{"type":"object","properties":{"url":{"type":"string","nullable":true,"description":"the url where the webhook notifications will be sent to. To reset the value `null` can be sent in the body.","example":"https://some-webhook-endpoint.url"}},"required":["url"]},"OffRampPartnerV2Response":{"type":"object","properties":{"id":{"type":"string","description":"Transaction identifier","example":"63f51f11-6869-47b0-a109-ddb50ef20efb"},"userId":{"type":"string","description":"User identifier","example":"8374f327-38bd-4b0b-b8a7-2524599eb903"},"status":{"type":"string","description":"Transaction status","example":"PENDING_PAYMENT"},"cryptoAmount":{"type":"number","description":"Amount of crypto currency involved in the transaction","example":2500},"fiatAmount":{"type":"number","description":"Amount of fiat currency involved in the transaction","example":50000},"exchangeRate":{"type":"number","description":"Exchange rate used for the transaction","example":19.53964594161554},"tokenSymbol":{"description":"Token symbol","example":"USDC","enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"},"blockchainSymbol":{"description":"Blockchain symbol","example":"POL","enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"},"fiatCurrency":{"description":"Fiat currency symbol","example":"MXN","enum":["MXN","DOP"],"type":"string"},"premiumSpread":{"type":"number","description":"Premium spread applied to the transaction (0 if not provided)","example":0.01},"createdAt":{"type":"string","description":"Transaction creation date","example":"2025-05-14T10:00:00Z"},"completedAt":{"type":"string","nullable":true,"description":"Transaction completion date (null if not completed)"},"destinationWalletAddress":{"type":"string","description":"Destination wallet address for the transaction","example":"0x7796d4f304bd84171ee6730ad0f69c07a47e786d"},"bankAccount":{"description":"Bank account information","allOf":[{"$ref":"#/components/schemas/BankAccountResponse"}]}},"required":["id","userId","status","cryptoAmount","fiatAmount","exchangeRate","tokenSymbol","blockchainSymbol","fiatCurrency","createdAt","completedAt","destinationWalletAddress","bankAccount"]},"BankAccountResponse":{"type":"object","properties":{"country":{"type":"string","description":"The country of the bank account","example":"MX"},"accountIdentifier":{"type":"string","description":"The account identifier for the bank account","example":"0146..."},"bankName":{"type":"string","nullable":true,"description":"The name of the bank","example":"Santander"},"accountType":{"type":"string","nullable":true,"description":"The type of the account","example":"SAVINGS"},"isVerified":{"type":"boolean","description":"Whether the account is verified","example":true},"documentIdentifier":{"type":"string","nullable":true,"description":"The document identifier used for verification","example":"123abc"},"documentType":{"type":"string","nullable":true,"description":"Type of the document binded to the account","example":"RNC"}},"required":["country","accountIdentifier","isVerified"]},"CreatePartnerOffRampTransactionV2RequestBody":{"type":"object","properties":{"userBankInformation":{"type":"object","description":"User bank info to be saved","properties":{"accountIdentifier":{"type":"string","description":"Always required. CLABE for MX, account number for DO"},"country":{"type":"string","description":"Required. Determines validation rules"},"accountType":{"type":"string","description":"Required only for DO"},"bankName":{"type":"string","description":"Required only for DO"},"documentIdentifier":{"type":"string","description":"Required only for DO"},"documentType":{"type":"string","description":"Required only for DO"}}},"userId":{"type":"string","description":"Identifier for the user who's submitting the off-ramp order","example":"8374f327-38bd-4b0b-b8a7-2524599eb903"},"fiatAmount":{"type":"number","description":"Amount of fiat currency to be received in conversion.","example":10200},"cryptoAmount":{"type":"number","description":"Amount of crypto currency to be converted to fiat currency.","example":10200},"fiatCurrency":{"description":"Identifier for the fiat currency which the user will rec.","example":"MXN","enum":["MXN","DOP"],"type":"string"},"blockchainSymbol":{"description":"Identifier for the blockhain to token from which the conversion will be made.","example":"BASE","enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"},"tokenSymbol":{"description":"Identifier for the token from which the conversion will be made.","example":"ETH","enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"},"premiumSpread":{"type":"number","description":"Spread percentage to be applied to the exchange rate","example":0.01}},"required":["userId","fiatCurrency","blockchainSymbol","tokenSymbol"]},"OnRampPartnerV2Response":{"type":"object","properties":{"id":{"type":"string","description":"Transaction identifier","example":"63f51f11-6869-47b0-a109-ddb50ef20efb"},"userId":{"type":"string","description":"User identifier","example":"8374f327-38bd-4b0b-b8a7-2524599eb903"},"status":{"type":"string","description":"Transaction status","example":"PENDING_PAYMENT"},"cryptoAmount":{"type":"number","description":"Amount of crypto currency involved in the transaction","example":2500},"fiatAmount":{"type":"number","description":"Amount of fiat currency involved in the transaction","example":50000},"exchangeRate":{"type":"number","description":"Exchange rate used for the transaction","example":19.53964594161554},"tokenSymbol":{"description":"Token symbol","example":"USDC","enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"},"blockchainSymbol":{"description":"Blockchain symbol","example":"POL","enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"},"fiatCurrency":{"description":"Fiat currency symbol","example":"MXN","enum":["MXN","DOP"],"type":"string"},"premiumSpread":{"type":"number","description":"Premium spread applied to the transaction (0 if not provided)","example":0.01},"createdAt":{"type":"string","description":"Transaction creation date","example":"2025-05-14T10:00:00Z"},"completedAt":{"type":"string","nullable":true,"description":"Transaction completion date (null if not completed)"},"destinationWalletAddress":{"type":"string","description":"Destination wallet address for the transaction","example":"0x7796d4f304bd84171ee6730ad0f69c07a47e786d"},"bankAccount":{"description":"Bank account information","allOf":[{"$ref":"#/components/schemas/BankAccountResponse"}]}},"required":["id","userId","status","cryptoAmount","fiatAmount","exchangeRate","tokenSymbol","blockchainSymbol","fiatCurrency","createdAt","completedAt","destinationWalletAddress","bankAccount"]},"CreatePartnerOnRampTransactionV2RequestBody":{"type":"object","properties":{"userId":{"type":"string","description":"Identifier for the user","example":"8374f327-38bd-4b0b-b8a7-2524599eb903"},"fiatAmount":{"type":"number","description":"Amount of fiat currency to be converted to crypto currency.","example":10200},"cryptoAmount":{"type":"number","description":"Amount of cryptocurrency to be received in conversion.","example":10200},"destinationWalletAddress":{"type":"string","description":"Wallet address of the user making the transaction.","example":"0x4d2f3d8f83b6f2f8e0f3f4f3f3f3f3f3f3f3f3f3"},"fiatCurrency":{"description":"Identifier for the fiat currency which the user will rec.","example":"MXN","enum":["MXN","DOP"],"type":"string"},"blockchainSymbol":{"description":"Identifier for the blockhain to token from which the conversion will be made.","example":"BASE","enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"},"tokenSymbol":{"description":"Identifier for the token from which the conversion will be made.","example":"ETH","enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"},"premiumSpread":{"type":"number","description":"Spread percentage to be applied to the exchange rate","example":0.01}},"required":["userId","destinationWalletAddress","fiatCurrency","blockchainSymbol","tokenSymbol"]},"GetPartnerQuoteExchangeV2Response":{"type":"object","properties":{"fiatAmount":{"type":"number","description":"Amount to be exchanged in fiat (DOP or MXN)","example":5000},"fiatCurrency":{"description":"This field refers to the currency that user will sent","example":"DOP, MXN","enum":["MXN","DOP"],"type":"string"},"blockchainSymbol":{"description":"This field represents the blockchain symbol","example":"ARB","enum":["POL","SOL","BASE","ARB","BSC","OP","WLD","STK","ETH","MTN","CORE"],"type":"string"},"tokenSymbol":{"description":"This field refers to the token symbol that user will received","example":"USDC","enum":["USDC","USDT","MXNe","SOL","ETH","wBTC","cbBTC","PYSUD","POL","BNB","WLD","STK","USDY","CORE","USDC.e","wUSDL","CoreBTC","MATIC","USDbC"],"type":"string"},"transactionType":{"description":"Transaction type","example":"ON_RAMP","enum":["ON_RAMP","OFF_RAMP"],"type":"string"},"cryptoAmount":{"type":"number","description":"Amount the user would received in crypto","example":40},"rate":{"type":"number","description":"Sell exchange rate used to buy usdc","example":57.01},"premiumSpread":{"type":"number","description":"Premium spread","example":0.01},"flow":{"description":"Transaction flow based on the amount","example":"REGULAR | OTC","enum":["OTC","PAYMENT","REGULAR"],"type":"string"}},"required":["fiatAmount","fiatCurrency","blockchainSymbol","tokenSymbol","transactionType","cryptoAmount","rate","flow"]},"CancelTransactionHttpResponse":{"type":"object","properties":{"id":{"type":"string","description":"The identifier for the transaction."},"userId":{"type":"string","description":"User identifier making the transaction."},"status":{"type":"string","description":"Transaction status."}},"required":["id","userId","status"]},"PaginatedTransactionResponse":{"type":"object","properties":{"count":{"type":"number","description":"Total count of transactions matching the query","example":2},"data":{"description":"Array of transaction data","type":"array","items":{"$ref":"#/components/schemas/TransactionResponseData"}}},"required":["count","data"]},"TransactionResponseData":{"type":"object","properties":{"id":{"type":"string","description":"Transaction ID","example":"tx-1"},"userId":{"type":"string","description":"User ID","example":"user-123"},"status":{"type":"string","description":"Transaction status","example":"PENDING_PAYMENT"},"type":{"type":"string","description":"Transaction type","example":"ON_RAMP"},"tokenSymbol":{"type":"string","description":"Token symbol","example":"USDC"},"blockchainSymbol":{"type":"string","description":"Blockchain symbol","example":"POL"},"fiatCurrency":{"type":"string","description":"Fiat currency code","example":"MXN"},"fiatAmount":{"type":"number","description":"Fiat amount","example":5000},"cryptoAmount":{"type":"number","description":"Crypto amount","example":251.2},"exchangeRate":{"type":"number","description":"Exchange rate","example":19.9},"premiumSpread":{"type":"number","description":"Premium spread","example":0.01},"createdAt":{"type":"string","description":"Transaction created date","example":"2025-05-08T18:00:00Z"},"completedAt":{"type":"string","nullable":true,"description":"Transaction completed date","example":"2025-05-08T18:12:00Z"},"destinationWalletAddress":{"type":"string","description":"Destination wallet address","example":"0xabc123..."},"bankAccount":{"description":"Bank account information","allOf":[{"$ref":"#/components/schemas/TransactionBankAccountResponse"}]},"invoice":{"description":"Transaction invoice information","allOf":[{"$ref":"#/components/schemas/TransactionInvoiceResponse"}]},"cancellationReason":{"type":"string","description":"Reason why the transaction was cancelled","example":"Transaction cancelled by user"}},"required":["id","userId","status","type","tokenSymbol","blockchainSymbol","fiatCurrency","fiatAmount","cryptoAmount","exchangeRate","premiumSpread","createdAt","destinationWalletAddress","bankAccount","invoice"]},"TransactionBankAccountResponse":{"type":"object","properties":{"country":{"type":"string","description":"The country of the bank account","example":"MX"},"accountIdentifier":{"type":"string","nullable":true,"description":"The account identifier for the bank account","example":"0146..."},"bankName":{"type":"string","nullable":true,"description":"The name of the bank","example":"Santander"},"accountType":{"type":"string","nullable":true,"description":"The type of the account","example":"SAVINGS"},"isVerified":{"type":"boolean","description":"Whether the account is verified","example":true},"documentIdentifier":{"type":"string","nullable":true,"description":"The document identifier used for verification","example":"123abc"}},"required":["country","accountIdentifier","isVerified"]},"TransactionInvoiceResponse":{"type":"object","properties":{"transactionHash":{"type":"string","nullable":true,"description":"The transaction hash in the blockchain","example":"0xabc123..."},"paymentUrl":{"type":"string","nullable":true,"description":"URL to the payment invoice","example":"https://cdn.example.com/invoice"}}},"GetPartnerDirectLinkHttpResponseV2":{"type":"object","properties":{"kycLink":{"type":"string","description":"The direct link to the KYC provider."}},"required":["kycLink"]},"CreatePartnerDirectLinkBodyV2":{"type":"object","properties":{"personalInfo":{"type":"object","description":"Personal information for regulatory purposes","properties":{"profession":{"type":"string","required":["true"]},"phoneNumber":{"type":"string","required":["true"]},"birthCountry":{"type":"string","required":["true"]},"taxId":{"type":"string","required":["false"]}}},"userId":{"type":"string","description":"The user id of the partner","example":"2da954cd-2fda-49c2-ad77-6208c5ab71d6"},"country":{"description":"The country code for the partner\n\n@description The country must be a valid ISO 3166-1 alpha-2 country code, see:\n@link https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2","example":"MX","enum":["MX","DO"],"type":"string"},"partnerRedirectUri":{"type":"string","description":"The redirect URI for the partner to redirect the user after the KYC process is completed","example":"https://partner.com or myapp://partner.com"}},"required":["userId","country"]},"UploadPartnerOwnKYCBody":{"type":"object","properties":{"personalInfo":{"type":"object","description":"Personal information for regulatory purposes","properties":{"profession":{"type":"string","required":["true"]},"phoneNumber":{"type":"string","required":["true"]},"birthCountry":{"type":"string","required":["true"]},"taxId":{"type":"string","required":["false"]}}},"userId":{"type":"string","description":"The userId we gave to the partner when they onboarded their user with us","example":"2da954cd-2fda-49c2-ad77-6208c5ab71d6"},"country":{"description":"The country code for the partner\n\n@description The country must be a valid ISO 3166-1 alpha-2 country code, see:\n@link https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2","example":"DO","enum":["MX","DO"],"type":"string"},"documentType":{"description":"The type of document the user is uploading\n\n@description The documentType must be a valid DOCUMENT_TYPE, see:\n@link {@link RawSupportedDocumentType}","example":"NATIONAL_ID","enum":["NATIONAL_ID","VOTER_ID","PASSPORT"],"type":"string"}},"required":["userId","country","documentType"]},"GetUserVerificationResultHttpResponse":{"type":"object","properties":{"aipriseSummary":{"type":"object","description":"@description General result of the verification.","properties":{"verificationResult":{"type":"string"}}},"amlInfo":{"type":"object","properties":{"entityHits":{"type":"array","items":{"type":"object","properties":{"entityType":{"type":"string"},"name":{"type":"string"},"nameMatchScore":{"type":"number"},"alsoKnownAs":{"type":"array"},"amlHits":{"type":"array"},"dateOfBirth":{"type":"string"},"dateOfBirthMatchScore":{"type":"number"},"id":{"type":"string"},"resolutionStatus":{"type":"string"}}}},"numHits":{"type":"number"},"amlHitSummary":{"type":"object"},"searchCriteria":{"type":"object","properties":{"searchTerm":{"type":"string"},"fuzzinessScore":{"type":"number"},"exactMatch":{"type":"boolean"}}}}},"clientReferenceData":{"type":"object","properties":{"personalInfo":{"type":"object","properties":{"profession":{"type":"string"},"phoneNumber":{"type":"string"},"birthCountry":{"type":"string"},"taxId":{"type":"string"}}}}},"faceLivenessInfo":{"type":"object","properties":{"checkSummary":{"type":"object"},"result":{"type":"string"},"section_id":{"type":"string"},"status":{"type":"string"},"statusReasons":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"warnings":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"warningId":{"type":"string"},"resolutionStatus":{"type":"string"}}}}}},"faceMatchInfo":{"type":"object","properties":{"faceMatchScore":{"type":"number"},"checkSummary":{"type":"object"},"result":{"type":"string"},"section_id":{"type":"string"},"status":{"type":"string"},"statusReasons":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"warnings":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"warningId":{"type":"string"},"resolutionStatus":{"type":"string"}}}}}},"fraudInsights":{"type":"object","properties":{"relatedSessionInsights":{"type":"object","properties":{"result":{"type":"string"},"section_id":{"type":"string"},"status":{"type":"string"},"statusReasons":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"warnings":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"warningId":{"type":"string"},"resolutionStatus":{"type":"string"}}}}}},"result":{"type":"string"},"section_id":{"type":"string"},"status":{"type":"string"},"statusReasons":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"warnings":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"warningId":{"type":"string"},"resolutionStatus":{"type":"string"}}}}}},"idInfo":{"type":"object","properties":{"address":{"type":"object","properties":{"fullAddress":{"type":"string"}}},"birthDate":{"type":"string"},"checkSummary":{"type":"object"},"documentDetails":{"type":"object"},"firstName":{"type":"string"},"idExpiryDate":{"type":"string"},"idIssueDate":{"type":"string"},"idType":{"type":"string"},"idNumber":{"type":"string"},"middleName":{"type":"string"},"lastName":{"type":"string"},"secondLastName":{"type":"string"},"fullName":{"type":"string"},"gender":{"type":"string"},"nationality":{"type":"string"},"nationalityCode":{"type":"string"},"issueCountry":{"type":"string"},"issueCountryCode":{"type":"string"},"result":{"type":"string"},"section_id":{"type":"string"},"status":{"type":"string"},"statusReasons":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"warnings":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"warningId":{"type":"string"},"resolutionStatus":{"type":"string"}}}}}},"media":{"type":"object","properties":{"frontIdImageUrl":{"type":"string"},"backIdImageUrl":{"type":"string"},"selfieImageUrl":{"type":"string"},"selfieVideoUrl":{"type":"string"}}},"clientReferenceId":{"type":"string","description":"@description Represents the userId in our system, is the same as the one return when each partner create a user."},"createdAt":{"type":"string"},"verificationSessionId":{"type":"string","description":"The ID of the verification session. aka `externalResourceId` in our system."}},"required":["amlInfo","clientReferenceData","faceLivenessInfo","faceMatchInfo","fraudInsights","idInfo"]},"CreatePartnerUserHttpResponse":{"type":"object","properties":{"userId":{"type":"string","description":"The user's ID.","example":"9486244c-ff7d-4c22-9984-797179d7deaa"}},"required":["userId"]},"CreatePartnerUserBody":{"type":"object","properties":{"type":{"description":"The type of user.","example":"INDIVIDUAL or BUSINESS","enum":["INDIVIDUAL","BUSINESS"],"type":"string"},"email":{"type":"string","description":"The email of the user.","example":"money@capa.fi"},"externalUserId":{"type":"string","description":"The external user id of the user.","example":"1441d100-8cc3-40ca-9e55-6183d6f11f18"},"alias":{"type":"string","description":"An optional alias or display name for the user.","example":"John Doe"}},"required":["type","email","externalUserId"]},"GetPartnerDirectLinkHttpResponse":{"type":"object","properties":{"kycLink":{"type":"string","description":"The direct link to the KYC provider."}},"required":["kycLink"]},"CreateVerificationLinkBody":{"type":"object","properties":{"country":{"description":"The country code for the partner\n\n@description The country must be a valid ISO 3166-1 alpha-2 country code, see:\n@link https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2","example":"MX","enum":["MX","DO"],"type":"string"},"partnerRedirectUri":{"type":"string","description":"The redirect URI for the partner to redirect the user after the KYC process is completed","example":"https://partner.com or myapp://partner.com"}},"required":["country"]},"GetBusinessDirectLinkHttpResponse":{"type":"object","properties":{"kybLink":{"type":"string","description":"The direct link to the KYC provider."}},"required":["kybLink"]},"GetDocumentSignatureTemplatesHttpResponse":{"type":"object","properties":{"name":{"description":"The name of the document signature template.","enum":["CONTRACT","TERMS_AND_CONDITIONS"],"type":"string"},"language":{"description":"The language of the document signature template.","enum":["ES","EN"],"type":"string"},"url":{"type":"string","description":"The URL of the document signature template."}},"required":["name","language","url"]}}}}